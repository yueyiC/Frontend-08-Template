<script>
    let callbacks = [], object = {
      a: 1,
      b: 2,
    };
    let po = reactive(object);
    //随着依赖变化而执行的自定义函数的函数
    effect(()=>{
        console.log("11");
    })
    function effect(callback){
        callbacks.push(callback)
    }
    //返回一个Proxy对象
    function reactive(obj) {
      return new Proxy(object, {
        set(obj, prop, value) {
          obj[prop] = value;
          for(let callback of callbacks){
              callback();
          }
          console.log("obj,prop,value", obj, prop, value);
          return obj[prop];
        },
        get(obj, prop) {
          console.log("obj,prop", obj, prop);
          return obj[prop];
        },
      });
    }
  </script>
  